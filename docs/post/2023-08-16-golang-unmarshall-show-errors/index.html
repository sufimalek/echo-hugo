<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Go Lang Unmarshall show errors - Mainroad</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Go Lang Unmarshall show errors" />
<meta property="og:description" content="When you are Unmarshalling JSON in GO, you would probably get some error at some time regarding JSON format, fields or value types etc,.
So, most of us using simple syntax of the error to handle the error like in below example,
{: .light .w-75 .shadow .rounded-10 w=&lsquo;1212&rsquo; h=&lsquo;668&rsquo; }
package main import ( &#34;encoding/json&#34; &#34;fmt&#34; ) type A struct { Name string Email string } func main() { var a A bs := []byte(`{&#34;Name&#34;:&#34;hello&#34;,&#34;Email&#34;:123}`) if e := json." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sufimalek.github.io/echo-hugo/post/2023-08-16-golang-unmarshall-show-errors/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-08-16T13:09:01+00:00" />
<meta property="article:modified_time" content="2023-08-16T13:09:01+00:00" />


		<meta itemprop="name" content="Go Lang Unmarshall show errors">
<meta itemprop="description" content="When you are Unmarshalling JSON in GO, you would probably get some error at some time regarding JSON format, fields or value types etc,.
So, most of us using simple syntax of the error to handle the error like in below example,
{: .light .w-75 .shadow .rounded-10 w=&lsquo;1212&rsquo; h=&lsquo;668&rsquo; }
package main import ( &#34;encoding/json&#34; &#34;fmt&#34; ) type A struct { Name string Email string } func main() { var a A bs := []byte(`{&#34;Name&#34;:&#34;hello&#34;,&#34;Email&#34;:123}`) if e := json."><meta itemprop="datePublished" content="2023-08-16T13:09:01+00:00" />
<meta itemprop="dateModified" content="2023-08-16T13:09:01+00:00" />
<meta itemprop="wordCount" content="388">
<meta itemprop="keywords" content="featured,go-lang,go,go-error-handling," />
		<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Go Lang Unmarshall show errors"/>
<meta name="twitter:description" content="When you are Unmarshalling JSON in GO, you would probably get some error at some time regarding JSON format, fields or value types etc,.
So, most of us using simple syntax of the error to handle the error like in below example,
{: .light .w-75 .shadow .rounded-10 w=&lsquo;1212&rsquo; h=&lsquo;668&rsquo; }
package main import ( &#34;encoding/json&#34; &#34;fmt&#34; ) type A struct { Name string Email string } func main() { var a A bs := []byte(`{&#34;Name&#34;:&#34;hello&#34;,&#34;Email&#34;:123}`) if e := json."/>

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/echo-hugo/css/style.css">
	<link rel="stylesheet" href="/echo-hugo/css/custom.css">

	<link rel="shortcut icon" href="/echo-hugo/favicon.ico">
		
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/echo-hugo/" title="Sufiyan Malek" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/echo-hugo/img/placeholder.png">
				</div><div class="logo__item logo__text">
					<div class="logo__title">Sufiyan Malek</div>
					<div class="logo__tagline">Streamlined design, enhanced functionality</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/echo-hugo/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/echo-hugo/categories/">
				
				<span class="menu__text">Categories</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/echo-hugo/tags/">
				
				<span class="menu__text">Tags</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/echo-hugo/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Go Lang Unmarshall show errors</h1>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 16 16"><path d="M8 1c2 0 3.5 2 3.5 4.5S10 9 10 9c3 1 4 2 4 6H2c0-4 1-5 4-6 0 0-1.5-1-1.5-3.5S6 1 8 1"/></svg><span class="meta__text">Sufiyan Malek</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2023-08-16T13:09:01Z">2023-08-16</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class="meta__text"><a class="meta__link" href="/echo-hugo/categories/development/" rel="category">Development</a>, <a class="meta__link" href="/echo-hugo/categories/golang/" rel="category">Golang</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<!-- raw HTML omitted -->
<p>When you are Unmarshalling JSON in GO, you would probably get some error at some time regarding JSON format, fields or value types etc,.</p>
<p>So, most of us using simple syntax of the error to handle the error like in below example,</p>
<p><img src="/assets/images/posts/17082023_1.png" alt="Alt">{: .light .w-75 .shadow .rounded-10 w=&lsquo;1212&rsquo; h=&lsquo;668&rsquo; }</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">A</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Name</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Email</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#a6e22e">A</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">bs</span> <span style="color:#f92672">:=</span> []byte(<span style="color:#e6db74">`{&#34;Name&#34;:&#34;hello&#34;,&#34;Email&#34;:123}`</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">e</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Unmarshal</span>(<span style="color:#a6e22e">bs</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>); <span style="color:#a6e22e">e</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Other error:&#34;</span>, <span style="color:#a6e22e">e</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Sometime this will not provide exact error what we want so, we can take a correct action on it.</p>
<blockquote>
<p>The error message should be specific enough to let the caller know what went wrong, and it should provide enough information for the caller to take corrective action.</p>
</blockquote>
<p>For example, the error message <strong>&ldquo;This is a value error&rdquo;</strong> is not very informative. It does not tell the caller what the value was, or why it was invalid. A better error message would be <strong>&ldquo;The value &lsquo;abc&rsquo; is not a valid number.&rdquo;</strong> This error message tells the caller that the value is invalid, and it also provides some information about why it is invalid.</p>
<p>In some cases, the caller may need more information than just an error message. For example, if the error is caused by a bug in the code, the caller may need to know the line number of the bug. Or, if the error is caused by a problem with the data, the caller may need to know the source of the data.</p>
<blockquote>
<p>The error interface should be designed to be flexible enough to accommodate different types of errors and different levels of detail. The caller should be able to get the information they need to troubleshoot the error, without being overwhelmed by unnecessary detail.
{: .prompt-info }</p>
</blockquote>
<p>Below is the sample of how to implement error :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-golang" data-lang="golang"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">A</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Name</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Email</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#a6e22e">A</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">bs</span> <span style="color:#f92672">:=</span> []byte(<span style="color:#e6db74">`{&#34;Name&#34;:&#34;hello&#34;,&#34;Email&#34;:123}`</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Unmarshal</span>(<span style="color:#a6e22e">bs</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">a</span>); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">e</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">err</span>.(<span style="color:#66d9ef">type</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">case</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">UnmarshalTypeError</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;UnmarshalTypeError: Value[%s] Type[%v]\n&#34;</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">Value</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">Type</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">case</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">InvalidUnmarshalError</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;InvalidUnmarshalError: Type[%v]\n&#34;</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">Type</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>you can find all supported error types doc <a href="https://pkg.go.dev/encoding/json#UnmarshalFieldError"><strong>Here</strong></a>
{: .prompt-info }</p>
</blockquote>
<p>Happy Debugging!!!</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/echo-hugo/tags/featured/" rel="tag">featured</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/echo-hugo/tags/go-lang/" rel="tag">go-lang</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/echo-hugo/tags/go/" rel="tag">go</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/echo-hugo/tags/go-error-handling/" rel="tag">go-error-handling</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Sufiyan Malek avatar" src="/echo-hugo/img/avatar.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Sufiyan Malek</span>
	</div>
	<div class="authorbox__description">
		Sufiyan Malek&rsquo;s true identity is unknown. Maybe he is a successful blogger or writer. Nobody knows it.
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/echo-hugo/post/2020-09-01-benefits-of-symfony-that-make-it-popular-php-framework/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Benefits of Symfony that make it popular PHP framework</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/echo-hugo/post/2023-09-09-laravel-limiting-chunk-collection/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Laravel Limiting Chunk Collection: How to Chunk Results from a Custom Query</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2026 Sufiyan Malek.
			<span class="footer__copyright-credits">Built with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> ❤️ | <a href="https://github.com/sufimalek">GitHub</a></span>
		</div>
	</div>
</footer>



	</div>
<script async defer src="/echo-hugo/js/menu.js"></script>
<script src="/echo-hugo/js/custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>